var documenterSearchIndex = {"docs":
[{"location":"api/#DocstringTranslation.jl-Documentation","page":"API","title":"DocstringTranslation.jl Documentation","text":"","category":"section"},{"location":"api/","page":"API","title":"API","text":"","category":"page"},{"location":"api/#DocstringTranslation.cache_original-Tuple{Markdown.MD}","page":"API","title":"DocstringTranslation.cache_original","text":"cache_original(md::Markdown.MD)\n\nCache the original version of a Markdown document.\n\nArguments\n\nmd::Markdown.MD: The Markdown document to cache\n\nDetails\n\nCreates a cache directory if it doesn't exist and saves the original Markdown content to 'original.md' within that directory.\n\n\n\n\n\n","category":"method"},{"location":"api/#DocstringTranslation.cache_translation-Tuple{String, Markdown.MD}","page":"API","title":"DocstringTranslation.cache_translation","text":"cache_translation(md_hash_original::String, transmd::Markdown.MD)\n\nCache a translated version of a Markdown document.\n\nArguments\n\nmd_hash_original::String: The hash of the original Markdown document\ntransmd::Markdown.MD: The translated Markdown document to cache\n\nDetails\n\nCreates a cache directory if it doesn't exist and saves the translated content to a language-specific file (e.g., 'ja.md' for Japanese) within that directory.\n\n\n\n\n\n","category":"method"},{"location":"api/#DocstringTranslation.insertversion-Tuple{AbstractVector, VersionNumber}","page":"API","title":"DocstringTranslation.insertversion","text":"insertversion(svec::AbstractVector, v::VersionNumber)\n\nInsert a version string into a copy of the given vector at the second position.\n\nArguments\n\nsvec::AbstractVector: The vector into which the version string will be inserted.\nv::VersionNumber: The version number used to create the version string.\n\nReturns\n\nA new vector with the version string inserted at the second position.\n\nDetails\n\nThe function creates a deep copy of the input vector svec and inserts a string representation of the version number v in the format \"major.minor\" at the second position.\n\n\n\n\n\n","category":"method"},{"location":"api/#DocstringTranslation.istranslated-Tuple{Markdown.MD}","page":"API","title":"DocstringTranslation.istranslated","text":"istranslated(md::Markdown.MD)\n\nCheck if a translation exists for the given Markdown document.\n\nArguments\n\nmd::Markdown.MD: The Markdown document to check for translation\n\nReturns\n\ntrue if a translation file exists in the cache directory for the current language, false otherwise.\n\n\n\n\n\n","category":"method"},{"location":"api/#DocstringTranslation.load_translation-Tuple{Markdown.MD}","page":"API","title":"DocstringTranslation.load_translation","text":"load_translation(md::Markdown.MD)\n\nLoad the cached translation for a given Markdown document.\n\nArguments\n\nmd::Markdown.MD: The Markdown document to load the translation for\n\nReturns\n\nA new Markdown.MD object containing the translated content.\n\nDetails\n\nLoads the translation file from cache, post-processes it, and parses it as Markdown.\n\n\n\n\n\n","category":"method"},{"location":"api/#DocstringTranslation.pathofcachedir","page":"API","title":"DocstringTranslation.pathofcachedir","text":"pathofcachedir(md::Markdown.MD, allowold::Bool = false)\n\nGet the cache directory path for a given Markdown document.\n\nArguments\n\nmd::Markdown.MD: The Markdown document to get the cache path for\nallowold::Bool = false: If true, allows falling back to previous minor version's cache directory\n\nReturns\n\nA string containing the full path to the cache directory.\n\nDetails\n\nThe cache directory path is constructed based on either:\n\nThe module path from md.meta[:module] if present, using the module's version or VERSION\nThe file path from md.meta[:path] if present, using VERSION\n\nIf allowold is true and the target directory doesn't exist, falls back to the previous minor version's directory.\n\nThrows\n\nArgumentError: If neither :module nor :path is found in the markdown metadata\n\n\n\n\n\n","category":"function"},{"location":"api/#DocstringTranslation.prevminor-Tuple{VersionNumber}","page":"API","title":"DocstringTranslation.prevminor","text":"prevminor(v::VersionNumber)\n\nReturn a VersionNumber with the same major version as v, but with minor version decremented by 1 (bounded at 0) and patch version set to 0.\n\n\n\n\n\n","category":"method"},{"location":"api/#DocstringTranslation.translate_md!-Tuple{Markdown.MD}","page":"API","title":"DocstringTranslation.translate_md!","text":"translate_md!(md::Markdown.MD)\n\nTranslate a Markdown document in-place using OpenAI translation.\n\nArguments\n\nmd::Markdown.MD: The Markdown document to translate\n\nReturns\n\nThe translated Markdown document (same object as input)\n\nDetails\n\nRecursively translates all content in the Markdown document using multiple threads. Translation is done in-place, modifying the original document.\n\n\n\n\n\n","category":"method"},{"location":"api/#DocstringTranslation.@switchlang!-Tuple{Any}","page":"API","title":"DocstringTranslation.@switchlang!","text":"@switchlang!(lang)\n\nSwitch the target language for docstring translation and modify the documentation system to automatically translate docstrings.\n\nArguments\n\nlang: The target language code (e.g., \"ja\", \"en\") to translate docstrings into.\n\nDetails\n\nThis macro performs the following operations:\n\nSets the target language for translation\nOverrides Docs.parsedoc to insert translation engine for individual docstrings\nOverrides Documenter.Page constructor to enable translation of entire documentation pages\n\nExample\n\n@switchlang! \"ja\"  # Switch to Japanese translation\n\n\n\n\n\n","category":"macro"},{"location":"translation_of_julia_documentation/#Translation-of-Julia-documentation","page":"Translation of Julia's official documentation","title":"Translation of Julia documentation","text":"","category":"section"},{"location":"translation_of_julia_documentation/#概要","page":"Translation of Julia's official documentation","title":"概要","text":"","category":"section"},{"location":"translation_of_julia_documentation/","page":"Translation of Julia's official documentation","title":"Translation of Julia's official documentation","text":"English follows Japanese","category":"page"},{"location":"translation_of_julia_documentation/","page":"Translation of Julia's official documentation","title":"Translation of Julia's official documentation","text":"How it works でも述べたとおり，我々のパッケージは既存のメソッドをオーバーライドすることで翻訳エンジンを挿入し，翻訳されたマークダウンの出力をユーザに提供することができます．Julia のドキュメント，そして多くのサードパーティのパッケージは Documenter.jl とマークダウンのエコシステムを元に構築されています．この状況を利用し，英語で書かれた Julia 公式ドキュメント，サードパーティのパッケージのドキュメント を別の自然言語に翻訳することができます．マークダウンフォーマットのファイルがどのタイミングで読み込まれるかを把握し，そのタイミングをコントロールする関数・メソッドに翻訳エンジンを挿入する必要がありますが，この要件はすでに @switchlang! マクロが解決しています．","category":"page"},{"location":"translation_of_julia_documentation/","page":"Translation of Julia's official documentation","title":"Translation of Julia's official documentation","text":"","category":"page"},{"location":"translation_of_julia_documentation/#Description","page":"Translation of Julia's official documentation","title":"Description","text":"","category":"section"},{"location":"translation_of_julia_documentation/","page":"Translation of Julia's official documentation","title":"Translation of Julia's official documentation","text":"As mentioned in \"How it works\", our package can insert a translation engine by overriding existing methods to provide users with translated markdown output. Julia's documentation and many third-party packages are built on the Documenter.jl and markdown ecosystem. Taking advantage of this situation, we can translate Julia's official documentation and third-party package documentation written in English into other natural languages. While we need to understand when markdown format files are loaded and insert translation engines into functions and methods that control this timing, this requirement has already been solved by the @switchlang! macro.","category":"page"},{"location":"translation_of_julia_documentation/#How-to-translate-Julia-documentation","page":"Translation of Julia's official documentation","title":"How to translate Julia documentation","text":"","category":"section"},{"location":"translation_of_julia_documentation/#Build-Julia-from-source","page":"Translation of Julia's official documentation","title":"Build Julia from source","text":"","category":"section"},{"location":"translation_of_julia_documentation/","page":"Translation of Julia's official documentation","title":"Translation of Julia's official documentation","text":"ja: Julia の公式ドキュメントを完全にビルドし，翻訳を実行するには（juliaup などで導入した Julia を使わずに） Julia 自信をビルドする必要があります．したがって，翻訳の前に下記のコマンドがローカル環境で実行できるかを確認してください．","category":"page"},{"location":"translation_of_julia_documentation/","page":"Translation of Julia's official documentation","title":"Translation of Julia's official documentation","text":"en: To fully build and translate Julia's official documentation, you need to build Julia itself (rather than using Julia installed via juliaup etc.). Therefore, before proceeding with translation, please verify that the following commands can be executed in your local environment.","category":"page"},{"location":"translation_of_julia_documentation/","page":"Translation of Julia's official documentation","title":"Translation of Julia's official documentation","text":"$ git clone https://github.com/JuliaLang/julia.git\n$ cd julia\n$ make\n$ make -C doc","category":"page"},{"location":"translation_of_julia_documentation/","page":"Translation of Julia's official documentation","title":"Translation of Julia's official documentation","text":"If make -C doc works successfully on your machine (meaning you can build the Julia documentation), you can proceed to the next section. If you encounter any errors, make sure you have all the required dependencies installed and your build environment is properly configured.","category":"page"},{"location":"translation_of_julia_documentation/#Update-julia/doc/make.jl","page":"Translation of Julia's official documentation","title":"Update julia/doc/make.jl","text":"","category":"section"},{"location":"translation_of_julia_documentation/","page":"Translation of Julia's official documentation","title":"Translation of Julia's official documentation","text":"ja: 下記のパッチを julia/doc/make.jl に適用します． Julia 1.11.5 で動作を確認しています．","category":"page"},{"location":"translation_of_julia_documentation/","page":"Translation of Julia's official documentation","title":"Translation of Julia's official documentation","text":"en: Apply the following patch to julia/doc/make.jl. This has been tested with Julia 1.11.5.","category":"page"},{"location":"translation_of_julia_documentation/","page":"Translation of Julia's official documentation","title":"Translation of Julia's official documentation","text":"diff --git a/doc/make.jl b/doc/make.jl\nindex e8ccbad85c..a3f89f608b 100644\n--- a/doc/make.jl\n+++ b/doc/make.jl\n@@ -9,6 +9,27 @@ using Pkg\n Pkg.instantiate()\n\n using Documenter\n+\n+# using DotEnv; DotEnv.load!()\n+\n+using DocstringTranslation\n+DocstringTranslation.switchtranslationcachedir!(joinpath(dirname(dirname(@__DIR__)), \"translation\"))\n+DocstringTranslation.switchtargetpackage!(\"julia\")\n+\n+lang = \"ja\" # choose your favorite language\n+@switchlang! lang\n+\n+for (i, _stdlib) in enumerate(readdir(Sys.STDLIB))\n+    stdlib = Symbol(_stdlib)\n+    @info \"Translating docstrings in $(stdlib)\"\n+    @eval begin\n+        import $(stdlib)\n+        Base.Threads.@threads for n in names($(stdlib))\n+            (Base.Docs.doc)((Base.Docs.Binding)($(stdlib), n))\n+        end\n+    end\n+end\n+\n import LibGit2\n\n baremodule GenStdLib end\n@@ -222,6 +243,7 @@ DevDocs = [\n         \"devdocs/aot.md\",\n         \"devdocs/gc-sa.md\",\n         \"devdocs/gc.md\",\n+        #\"devdocs/gc-mmtk.md\",\n         \"devdocs/jit.md\",\n         \"devdocs/builtins.md\",\n         \"devdocs/precompile_hang.md\",\n@@ -241,6 +263,7 @@ DevDocs = [\n         \"devdocs/build/windows.md\",\n         \"devdocs/build/freebsd.md\",\n         \"devdocs/build/arm.md\",\n+        #\"devdocs/build/riscv.md\",\n         \"devdocs/build/distributing.md\",\n     ]\n ]\n@@ -363,13 +386,13 @@ else\n     )\n end\n\n-const output_path = joinpath(buildroot, \"doc\", \"_build\", (render_pdf ? \"pdf\" : \"html\"), \"en\")\n+const output_path = joinpath(buildroot, \"doc\", \"_build\", (render_pdf ? \"pdf\" : \"html\"), lang)\n makedocs(\n     build     = output_path,\n     modules   = [Main, Base, Core, [Base.root_module(Base, stdlib.stdlib) for stdlib in STDLIB_DOCS]...],\n     clean     = true,\n-    doctest   = (\"doctest=fix\" in ARGS) ? (:fix) : (\"doctest=only\" in ARGS) ? (:only) : (\"doctest=true\" in ARGS) ? true : false,\n-    linkcheck = \"linkcheck=true\" in ARGS,\n+    doctest   = false,\n+    linkcheck = false,\n     linkcheck_ignore = [\"https://bugs.kde.org/show_bug.cgi?id=136779\"], # fails to load from nanosoldier?\n     checkdocs = :none,\n     format    = format,\n@@ -377,6 +400,7 @@ makedocs(\n     authors   = \"The Julia Project\",\n     pages     = PAGES,\n     remotes   = documenter_stdlib_remotes,\n+    warnonly = [:cross_references, :footnote, :eval_block]\n )\n\n # Update URLs to external stdlibs (JuliaLang/julia#43199)\n@@ -464,8 +488,8 @@ if \"deploy\" in ARGS\n     deploydocs(\n         repo = \"github.com/JuliaLang/docs.julialang.org.git\",\n         deploy_config = BuildBotConfig(),\n-        target = joinpath(buildroot, \"doc\", \"_build\", \"html\", \"en\"),\n-        dirname = \"en\",\n+        target = joinpath(buildroot, \"doc\", \"_build\", \"html\", lang),\n+        dirname = lang,\n         devurl = devurl,\n         versions = Versions([\"v#.#\", devurl => devurl]),\n         archive = get(ENV, \"DOCUMENTER_ARCHIVE\", nothing),","category":"page"},{"location":"translation_of_julia_documentation/#Update-julia/doc/Project.toml","page":"Translation of Julia's official documentation","title":"Update julia/doc/Project.toml","text":"","category":"section"},{"location":"translation_of_julia_documentation/","page":"Translation of Julia's official documentation","title":"Translation of Julia's official documentation","text":"Apply the following patch to　julia/doc/Project.toml","category":"page"},{"location":"translation_of_julia_documentation/","page":"Translation of Julia's official documentation","title":"Translation of Julia's official documentation","text":"diff --git a/doc/Project.toml b/doc/Project.toml\nindex dfa65cd107..b4f1f03bfa 100644\n--- a/doc/Project.toml\n+++ b/doc/Project.toml\n@@ -1,2 +1,3 @@\n [deps]\n+DocstringTranslation = \"d404e13b-1f8e-41a5-a26a-0b758a0c6c97\"\n Documenter = \"e30172f5-a6a5-5a46-863b-614d45cd2de4\"","category":"page"},{"location":"translation_of_julia_documentation/#Update-julia/doc/Manifest.toml","page":"Translation of Julia's official documentation","title":"Update julia/doc/Manifest.toml","text":"","category":"section"},{"location":"translation_of_julia_documentation/","page":"Translation of Julia's official documentation","title":"Translation of Julia's official documentation","text":"Apply the following patch to　julia/doc/Manifest.toml","category":"page"},{"location":"translation_of_julia_documentation/","page":"Translation of Julia's official documentation","title":"Translation of Julia's official documentation","text":"diff --git a/doc/Manifest.toml b/doc/Manifest.toml\nindex 76bdc332ff..fb4d338cd1 100644\n--- a/doc/Manifest.toml\n+++ b/doc/Manifest.toml\n@@ -1,8 +1,8 @@\n # This file is machine-generated - editing it directly is not advised\n\n-julia_version = \"1.11.1\"\n+julia_version = \"1.11.5\"\n manifest_format = \"2.0\"\n-project_hash = \"e0c77beb18dc1f6cce661ebd60658c0c1a77390f\"\n+project_hash = \"1d69248681ccaf34797736d74c42d8a3677cb49d\"\n\n [[deps.ANSIColoredPrinters]]\n git-tree-sha1 = \"574baf8110975760d391c710b6341da1afa48d8c\"\n@@ -26,11 +26,22 @@ version = \"1.11.0\"\n uuid = \"2a0f44e3-6c83-55bd-87e4-b1978d98bd5f\"\n version = \"1.11.0\"\n\n+[[deps.BitFlags]]\n+git-tree-sha1 = \"0691e34b3bb8be9307330f88d1a3c3f25466c24d\"\n+uuid = \"d1d4a3ce-64b1-5f1a-9ba4-7e7e69966f35\"\n+version = \"0.1.9\"\n+\n [[deps.CodecZlib]]\n deps = [\"TranscodingStreams\", \"Zlib_jll\"]\n-git-tree-sha1 = \"bce6804e5e6044c6daab27bb533d1295e4a2e759\"\n+git-tree-sha1 = \"962834c22b66e32aa10f7611c08c8ca4e20749a9\"\n uuid = \"944b1d66-785c-5afd-91f1-9de20f533193\"\n-version = \"0.7.6\"\n+version = \"0.7.8\"\n+\n+[[deps.ConcurrentUtilities]]\n+deps = [\"Serialization\", \"Sockets\"]\n+git-tree-sha1 = \"d9d26935a0bcffc87d2613ce14c527c99fc543fd\"\n+uuid = \"f0e56b4a-5159-44fe-b623-3e5288b988bb\"\n+version = \"2.5.0\"\n\n [[deps.Dates]]\n deps = [\"Printf\"]\n@@ -38,43 +49,62 @@ uuid = \"ade2ca70-3891-5945-98fb-dc099432e06a\"\n version = \"1.11.0\"\n\n [[deps.DocStringExtensions]]\n-deps = [\"LibGit2\"]\n-git-tree-sha1 = \"2fb1e02f2b635d0845df5d7c167fec4dd739b00d\"\n+git-tree-sha1 = \"e7b7e6f178525d17c720ab9c081e4ef04429f860\"\n uuid = \"ffbed154-4ef7-542d-bbb7-c09d3a79fcae\"\n-version = \"0.9.3\"\n+version = \"0.9.4\"\n+\n+[[deps.DocstringTranslation]]\n+deps = [\"Documenter\", \"Markdown\", \"OpenAI\", \"SHA\", \"Scratch\"]\n+git-tree-sha1 = \"199744cf6fea89695458269649354f5817a568e6\"\n+repo-rev = \"main\"\n+repo-url = \"https://github.com/AtelierArith/DocstringTranslation.jl.git\"\n+uuid = \"d404e13b-1f8e-41a5-a26a-0b758a0c6c97\"\n+version = \"0.1.0\"\n\n [[deps.Documenter]]\n-deps = [\"ANSIColoredPrinters\", \"AbstractTrees\", \"Base64\", \"CodecZlib\", \"Dates\", \"DocStringExtensions\", \"Downloads\", \"Git\", \"IOCapture\", \"InteractiveUtils\", \"JSON\", \"LibGit2\", \"Logging\", \"Markdown\", \"MarkdownAST\", \"Pkg\", \"PrecompileTools\", \"REPL\", \"RegistryInstances\", \"SHA\", \"TOML\", \"Test\", \"Unicode\"]\n-git-tree-sha1 = \"d0ea2c044963ed6f37703cead7e29f70cba13d7e\"\n+deps = [\"ANSIColoredPrinters\", \"AbstractTrees\", \"Base64\", \"CodecZlib\", \"Dates\", \"DocStringExtensions\", \"Downloads\", \"Git\", \"IOCapture\", \"InteractiveUtils\", \"JSON\", \"Logging\", \"Markdown\", \"MarkdownAST\", \"Pkg\", \"PrecompileTools\", \"REPL\", \"RegistryInstances\", \"SHA\", \"TOML\", \"Test\", \"Unicode\"]\n+git-tree-sha1 = \"6c182d0bd94142d7cbc3ae8a1e74668f15d0dd65\"\n uuid = \"e30172f5-a6a5-5a46-863b-614d45cd2de4\"\n-version = \"1.8.0\"\n+version = \"1.11.4\"\n\n [[deps.Downloads]]\n deps = [\"ArgTools\", \"FileWatching\", \"LibCURL\", \"NetworkOptions\"]\n uuid = \"f43a241f-c20a-4ad4-852c-f6b1247861c6\"\n version = \"1.6.0\"\n\n+[[deps.ExceptionUnwrapping]]\n+deps = [\"Test\"]\n+git-tree-sha1 = \"d36f682e590a83d63d1c7dbd287573764682d12a\"\n+uuid = \"460bff9d-24e4-43bc-9d9f-a8973cb893f4\"\n+version = \"0.1.11\"\n+\n [[deps.Expat_jll]]\n deps = [\"Artifacts\", \"JLLWrappers\", \"Libdl\"]\n-git-tree-sha1 = \"1c6317308b9dc757616f0b5cb379db10494443a7\"\n+git-tree-sha1 = \"d55dffd9ae73ff72f1c0482454dcf2ec6c6c4a63\"\n uuid = \"2e619515-83b5-522b-bb60-26c02a35a201\"\n-version = \"2.6.2+0\"\n+version = \"2.6.5+0\"\n\n [[deps.FileWatching]]\n uuid = \"7b1f6079-737a-58dc-b8bc-7a2ca5c1b5ee\"\n version = \"1.11.0\"\n\n [[deps.Git]]\n-deps = [\"Git_jll\"]\n-git-tree-sha1 = \"04eff47b1354d702c3a85e8ab23d539bb7d5957e\"\n+deps = [\"Git_jll\", \"JLLWrappers\", \"OpenSSH_jll\"]\n+git-tree-sha1 = \"2230a9cc32394b11a3b3aa807a382e3bbab1198c\"\n uuid = \"d7ba0133-e1db-5d97-8f8c-041e4b3a1eb2\"\n-version = \"1.3.1\"\n+version = \"1.4.0\"\n\n [[deps.Git_jll]]\n deps = [\"Artifacts\", \"Expat_jll\", \"JLLWrappers\", \"LibCURL_jll\", \"Libdl\", \"Libiconv_jll\", \"OpenSSL_jll\", \"PCRE2_jll\", \"Zlib_jll\"]\n-git-tree-sha1 = \"ea372033d09e4552a04fd38361cd019f9003f4f4\"\n+git-tree-sha1 = \"2f6d6f7e6d6de361865d4394b802c02fc944fc7c\"\n uuid = \"f8c6e375-362e-5223-8a59-34ff63f689eb\"\n-version = \"2.46.2+0\"\n+version = \"2.49.0+0\"\n+\n+[[deps.HTTP]]\n+deps = [\"Base64\", \"CodecZlib\", \"ConcurrentUtilities\", \"Dates\", \"ExceptionUnwrapping\", \"Logging\", \"LoggingExtras\", \"MbedTLS\", \"NetworkOptions\", \"OpenSSL\", \"PrecompileTools\", \"Random\", \"SimpleBufferStream\", \"Sockets\", \"URIs\", \"UUIDs\"]\n+git-tree-sha1 = \"f93655dc73d7a0b4a368e3c0bce296ae035ad76e\"\n+uuid = \"cd3eb016-35fb-5094-929b-558a96fad6f3\"\n+version = \"1.10.16\"\n\n [[deps.IOCapture]]\n deps = [\"Logging\", \"Random\"]\n@@ -89,9 +119,9 @@ version = \"1.11.0\"\n\n [[deps.JLLWrappers]]\n deps = [\"Artifacts\", \"Preferences\"]\n-git-tree-sha1 = \"be3dc50a92e5a386872a493a10050136d4703f9b\"\n+git-tree-sha1 = \"a007feb38b422fbdab534406aeca1b86823cb4d6\"\n uuid = \"692b3bcd-3c85-4b1f-b108-f13ce0eb3210\"\n-version = \"1.6.1\"\n+version = \"1.7.0\"\n\n [[deps.JSON]]\n deps = [\"Dates\", \"Mmap\", \"Parsers\", \"Unicode\"]\n@@ -99,6 +129,18 @@ git-tree-sha1 = \"31e996f0a15c7b280ba9f76636b3ff9e2ae58c9a\"\n uuid = \"682c06a0-de6a-54ab-a142-c8b1cf79cde6\"\n version = \"0.21.4\"\n\n+[[deps.JSON3]]\n+deps = [\"Dates\", \"Mmap\", \"Parsers\", \"PrecompileTools\", \"StructTypes\", \"UUIDs\"]\n+git-tree-sha1 = \"196b41e5a854b387d99e5ede2de3fcb4d0422aae\"\n+uuid = \"0f8b85d8-7281-11e9-16c2-39a750bddbf1\"\n+version = \"1.14.2\"\n+\n+    [deps.JSON3.extensions]\n+    JSON3ArrowExt = [\"ArrowTypes\"]\n+\n+    [deps.JSON3.weakdeps]\n+    ArrowTypes = \"31f734f8-188a-4ce0-8406-c8a06bd891cd\"\n+\n [[deps.LazilyInitializedFields]]\n git-tree-sha1 = \"0f2da712350b020bc3957f269c9caad516383ee0\"\n uuid = \"0e77f7df-68c5-4e49-93ce-4cd80f5598bf\"\n@@ -135,14 +177,20 @@ version = \"1.11.0\"\n\n [[deps.Libiconv_jll]]\n deps = [\"Artifacts\", \"JLLWrappers\", \"Libdl\"]\n-git-tree-sha1 = \"61dfdba58e585066d8bce214c5a51eaa0539f269\"\n+git-tree-sha1 = \"be484f5c92fad0bd8acfef35fe017900b0b73809\"\n uuid = \"94ce4f54-9a6c-5748-9c1c-f9c7231a4531\"\n-version = \"1.17.0+1\"\n+version = \"1.18.0+0\"\n\n [[deps.Logging]]\n uuid = \"56ddb016-857b-54e1-b83d-db4d58db5568\"\n version = \"1.11.0\"\n\n+[[deps.LoggingExtras]]\n+deps = [\"Dates\", \"Logging\"]\n+git-tree-sha1 = \"f02b56007b064fbfddb4c9cd60161b6dd0f40df3\"\n+uuid = \"e6f89c97-d47a-5376-807f-9c37f3926c36\"\n+version = \"1.1.0\"\n+\n [[deps.Markdown]]\n deps = [\"Base64\"]\n uuid = \"d6f4376e-aef5-505a-96c1-9c027394607a\"\n@@ -154,6 +202,12 @@ git-tree-sha1 = \"465a70f0fc7d443a00dcdc3267a497397b8a3899\"\n uuid = \"d0879d2d-cac2-40c8-9cee-1863dc0c7391\"\n version = \"0.1.2\"\n\n+[[deps.MbedTLS]]\n+deps = [\"Dates\", \"MbedTLS_jll\", \"MozillaCACerts_jll\", \"NetworkOptions\", \"Random\", \"Sockets\"]\n+git-tree-sha1 = \"c067a280ddc25f196b5e7df3877c6b226d390aaf\"\n+uuid = \"739be429-bea8-5141-9913-cc70e7f3736d\"\n+version = \"1.1.9\"\n+\n [[deps.MbedTLS_jll]]\n deps = [\"Artifacts\", \"Libdl\"]\n uuid = \"c8ffd9c3-330d-5841-b78e-0817d7145fa1\"\n@@ -171,11 +225,29 @@ version = \"2023.12.12\"\n uuid = \"ca575930-c2e3-43a9-ace4-1e988b2c1908\"\n version = \"1.2.0\"\n\n+[[deps.OpenAI]]\n+deps = [\"Dates\", \"HTTP\", \"JSON3\"]\n+git-tree-sha1 = \"d69de972e2c9140a42afc83a9e3331826d73e27e\"\n+uuid = \"e9f21f70-7185-4079-aca2-91159181367c\"\n+version = \"0.10.1\"\n+\n+[[deps.OpenSSH_jll]]\n+deps = [\"Artifacts\", \"JLLWrappers\", \"Libdl\", \"OpenSSL_jll\", \"Zlib_jll\"]\n+git-tree-sha1 = \"cb7acd5d10aff809b4d0191dfe1956c2edf35800\"\n+uuid = \"9bd350c2-7e96-507f-8002-3f2e150b4e1b\"\n+version = \"10.0.1+0\"\n+\n+[[deps.OpenSSL]]\n+deps = [\"BitFlags\", \"Dates\", \"MozillaCACerts_jll\", \"OpenSSL_jll\", \"Sockets\"]\n+git-tree-sha1 = \"38cb508d080d21dc1128f7fb04f20387ed4c0af4\"\n+uuid = \"4d8831e6-92b7-49fb-bdf8-b643e874388c\"\n+version = \"1.4.3\"\n+\n [[deps.OpenSSL_jll]]\n deps = [\"Artifacts\", \"JLLWrappers\", \"Libdl\"]\n-git-tree-sha1 = \"7493f61f55a6cce7325f197443aa80d32554ba10\"\n+git-tree-sha1 = \"9216a80ff3682833ac4b733caa8c00390620ba5d\"\n uuid = \"458c3c95-2e84-50aa-8efc-19380b2a3a95\"\n-version = \"3.0.15+1\"\n+version = \"3.5.0+0\"\n\n [[deps.PCRE2_jll]]\n deps = [\"Artifacts\", \"Libdl\"]\n@@ -184,9 +256,9 @@ version = \"10.42.0+1\"\n\n [[deps.Parsers]]\n deps = [\"Dates\", \"PrecompileTools\", \"UUIDs\"]\n-git-tree-sha1 = \"8489905bcdbcfac64d1daa51ca07c0d8f0283821\"\n+git-tree-sha1 = \"7d2f8f21da5db6a806faf7b9b292296da42b2810\"\n uuid = \"69de0a69-1ddd-5017-9359-2bf0b02dc9f0\"\n-version = \"2.8.1\"\n+version = \"2.8.3\"\n\n [[deps.Pkg]]\n deps = [\"Artifacts\", \"Dates\", \"Downloads\", \"FileWatching\", \"LibGit2\", \"Libdl\", \"Logging\", \"Markdown\", \"Printf\", \"Random\", \"SHA\", \"TOML\", \"Tar\", \"UUIDs\", \"p7zip_jll\"]\n@@ -234,14 +306,31 @@ version = \"0.1.0\"\n uuid = \"ea8e919c-243c-51af-8825-aaa63cd721ce\"\n version = \"0.7.0\"\n\n+[[deps.Scratch]]\n+deps = [\"Dates\"]\n+git-tree-sha1 = \"3bac05bc7e74a75fd9cba4295cde4045d9fe2386\"\n+uuid = \"6c6a2e73-6563-6170-7368-637461726353\"\n+version = \"1.2.1\"\n+\n [[deps.Serialization]]\n uuid = \"9e88b42a-f829-5b0c-bbe9-9e923198166b\"\n version = \"1.11.0\"\n\n+[[deps.SimpleBufferStream]]\n+git-tree-sha1 = \"f305871d2f381d21527c770d4788c06c097c9bc1\"\n+uuid = \"777ac1f9-54b0-4bf8-805c-2214025038e7\"\n+version = \"1.2.0\"\n+\n [[deps.Sockets]]\n uuid = \"6462fe0b-24de-5631-8697-dd941f90decc\"\n version = \"1.11.0\"\n\n+[[deps.StructTypes]]\n+deps = [\"Dates\", \"UUIDs\"]\n+git-tree-sha1 = \"159331b30e94d7b11379037feeb9b690950cace8\"\n+uuid = \"856f2bd8-1eba-4b0a-8007-ebc267875bd4\"\n+version = \"1.11.0\"\n+\n [[deps.StyledStrings]]\n uuid = \"f489334b-da3d-4c2e-b8f0-e476e12c162b\"\n version = \"1.11.0\"\n@@ -266,6 +355,11 @@ git-tree-sha1 = \"0c45878dcfdcfa8480052b6ab162cdd138781742\"\n uuid = \"3bb67fe8-82b1-5028-8e26-92a6c54297fa\"\n version = \"0.11.3\"\n\n+[[deps.URIs]]\n+git-tree-sha1 = \"cbbebadbcc76c5ca1cc4b4f3b0614b3e603b5000\"\n+uuid = \"5c2747f8-b7ea-4ff2-ba2e-563bfd36b1d4\"\n+version = \"1.5.2\"\n+\n [[deps.UUIDs]]\n deps = [\"Random\", \"SHA\"]\n uuid = \"cf7118a7-6976-5b1a-9a39-7adc72f591a4\"","category":"page"},{"location":"translation_of_julia_documentation/","page":"Translation of Julia's official documentation","title":"Translation of Julia's official documentation","text":"ja: 翻訳結果が事前に用意されていれば　julia と同階層に translation を配置します． もし，用意できない場合は OpenAI API キーを用意し環境変数 OPENAI_API_KEY を設定しておきます．","category":"page"},{"location":"translation_of_julia_documentation/","page":"Translation of Julia's official documentation","title":"Translation of Julia's official documentation","text":"en: If you have pre-prepared translation results, place the translation directory at the same level as julia. If you don't have them ready, prepare an OpenAI API key and set it as the environment variable OPENAI_API_KEY.","category":"page"},{"location":"translation_of_julia_documentation/#Build-translated-Julia-documentation","page":"Translation of Julia's official documentation","title":"Build translated Julia documentation","text":"","category":"section"},{"location":"translation_of_julia_documentation/","page":"Translation of Julia's official documentation","title":"Translation of Julia's official documentation","text":"Just run the following command:","category":"page"},{"location":"translation_of_julia_documentation/","page":"Translation of Julia's official documentation","title":"Translation of Julia's official documentation","text":"$ JULIA_NUM_THREADS=auto make -C julia/doc","category":"page"},{"location":"translation_of_julia_documentation/","page":"Translation of Julia's official documentation","title":"Translation of Julia's official documentation","text":"Here, we used JULIA_NUM_THREADS=auto to improve the translation speed. The built documentation is stored in julia/doc/_build/html/<lang>, where lang corresponds to the argument value passed to the @switchlang! macro.","category":"page"},{"location":"caching/#Caching-translated-results","page":"Caching translated docstrings","title":"Caching translated results","text":"","category":"section"},{"location":"caching/","page":"Caching translated docstrings","title":"Caching translated docstrings","text":"English follows Japanese","category":"page"},{"location":"caching/#キャッシュディレクトリの設定","page":"Caching translated docstrings","title":"キャッシュディレクトリの設定","text":"","category":"section"},{"location":"caching/","page":"Caching translated docstrings","title":"Caching translated docstrings","text":"REPL のセッションを起動する度に OpenAI API 毎回呼び出すことを避けるために，DocstringTranslation パッケージは 翻訳結果をキャッシュする機能を実装しています．この機能は Scratch.jl パッケージ によって実現されています．デフォルトでは joinpath(DEPOT_PATH[1], \"scratchspaces\", \"d404e13b-1f8e-41a5-a26a-0b758a0c6c97\", \"translation\") 以下に格納されます． 要するに ~/.julia/scratchspaces/d404e13b-1f8e-41a5-a26a-0b758a0c6c97/translation のことです．d404e13b-1f8e-41a5-a26a-0b758a0c6c97 は我々のパッケージ DocstringTranslation の UUID を指しています． tree コマンドでディレクトリの構造を調べてみましょう：","category":"page"},{"location":"caching/","page":"Caching translated docstrings","title":"Caching translated docstrings","text":"$ tree ~/.julia/scratchspaces/d404e13b-1f8e-41a5-a26a-0b758a0c6c97/translation\n├── Base\n│   └── 1.11\n│       └── Math\n│           └── 77be4ada26c623c913ebbdae5d8450a4dfe8f3cbf67837faac9d7193342d2bfe\n│               ├── ja.md\n│               └── original.md\n└── LinearAlgebra\n    └── 1.11\n        └── 46c0494a8a2adffc6f71752b60448da1743997b5b1791b71e3830113e9b9cc46\n            ├── ja.md\n            └── original.md\n\n8 directories, 4 files","category":"page"},{"location":"caching/","page":"Caching translated docstrings","title":"Caching translated docstrings","text":"@doc exp を実行することで Julia は exp に関する docstring を収集します．先ほどのデモンストレーションでは exp(x) と exp(A::AbstractMatrix) に対する２種類の docstring を収集していました．各は Math v1.11, LinearAlgebra v1.11 モジュール内で定義されているのでこのようなディレクトリ構造が生まれます． 77be4ada26c623c913ebbdae5d8450a4dfe8f3cbf67837faac9d7193342d2bfe や 46c0494a8a2adffc6f71752b60448da1743997b5b1791b71e3830113e9b9cc46 などは原文 (original.md に格納されている格納する) のハッシュ値です．original.md は手動で変更しないでください．翻訳結果に不満があれば ja.md を編集することで所望の翻訳結果を得ることができます．","category":"page"},{"location":"caching/","page":"Caching translated docstrings","title":"Caching translated docstrings","text":"翻訳結果のキャッシュディレクトリを変更する場合は、以下の関数を使用します：","category":"page"},{"location":"caching/","page":"Caching translated docstrings","title":"Caching translated docstrings","text":"switchtranslationcachedir!(\"path/to/cache/directory\")","category":"page"},{"location":"caching/","page":"Caching translated docstrings","title":"Caching translated docstrings","text":"","category":"page"},{"location":"caching/#Target-Language-Setting","page":"Caching translated docstrings","title":"Target Language Setting","text":"","category":"section"},{"location":"caching/","page":"Caching translated docstrings","title":"Caching translated docstrings","text":"Use the macro @switchlang! lang to set the target language:","category":"page"},{"location":"caching/","page":"Caching translated docstrings","title":"Caching translated docstrings","text":"julia> @switchlang! \"ja\"  # Translate to Japanese\njulia> @switchlang! \"de\"  # Translate to German","category":"page"},{"location":"caching/","page":"Caching translated docstrings","title":"Caching translated docstrings","text":"Here, \"ja\" is the language code for Japanese registered in ISO 639-1. The value lang is passed to the system prompt provided by the OpenAI API. Therefore, as long as ChatGPT can appropriately interpret the meaning of lang, users can freely choose this value.","category":"page"},{"location":"caching/#Cache-Directory-Setting","page":"Caching translated docstrings","title":"Cache Directory Setting","text":"","category":"section"},{"location":"caching/","page":"Caching translated docstrings","title":"Caching translated docstrings","text":"To avoid calling the OpenAI API every time you start a REPL session, the DocstringTranslation package implements a caching feature for translation results. This feature is implemented using the Scratch.jl package. By default, it is stored under joinpath(DEPOT_PATH[1], \"scratchspaces\", \"d404e13b-1f8e-41a5-a26a-0b758a0c6c97\", \"translation\"). In other words, ~/.julia/scratchspaces/d404e13b-1f8e-41a5-a26a-0b758a0c6c97/translation. The UUID d404e13b-1f8e-41a5-a26a-0b758a0c6c97 refers to our package DocstringTranslation. Let's examine the directory structure using the tree command:","category":"page"},{"location":"caching/","page":"Caching translated docstrings","title":"Caching translated docstrings","text":"$ tree ~/.julia/scratchspaces/d404e13b-1f8e-41a5-a26a-0b758a0c6c97/translation\n├── Base\n│   └── 1.11\n│       └── Math\n│           └── 77be4ada26c623c913ebbdae5d8450a4dfe8f3cbf67837faac9d7193342d2bfe\n│               ├── ja.md\n│               └── original.md\n└── LinearAlgebra\n    └── 1.11\n        └── 46c0494a8a2adffc6f71752b60448da1743997b5b1791b71e3830113e9b9cc46\n            ├── ja.md\n            └── original.md\n\n8 directories, 4 files","category":"page"},{"location":"caching/","page":"Caching translated docstrings","title":"Caching translated docstrings","text":"When you run @doc exp, Julia collects the docstrings related to exp. In the previous demonstration, we collected two types of docstrings for exp(x) and exp(A::AbstractMatrix). Since each is defined within the Math v1.11 and LinearAlgebra v1.11 modules, this directory structure is created. The hashes like 77be4ada26c623c913ebbdae5d8450a4dfe8f3cbf67837faac9d7193342d2bfe and 46c0494a8a2adffc6f71752b60448da1743997b5b1791b71e3830113e9b9cc46 are hash values of the original text (stored in original.md). Do not modify original.md manually. If you are dissatisfied with the translation results, you can edit ja.md to obtain the desired translation.","category":"page"},{"location":"caching/","page":"Caching translated docstrings","title":"Caching translated docstrings","text":"To change the cache directory for translation results, use the following function:","category":"page"},{"location":"caching/","page":"Caching translated docstrings","title":"Caching translated docstrings","text":"switchtranslationcachedir!(\"path/to/cache/directory\")","category":"page"},{"location":"#DocstringTranslation.jl","page":"Home","title":"DocstringTranslation.jl","text":"","category":"section"},{"location":"","page":"Home","title":"Home","text":"DocstringTranslation.jl は、Julia のドキュメント（docstring）を自動的に翻訳するためのパッケージです。OpenAI API を利用して、ドキュメントの多言語化を支援します。 翻訳の品質は OpenAI API の性能に依存します．","category":"page"},{"location":"","page":"Home","title":"Home","text":"(English follows Japanese)","category":"page"},{"location":"#主な機能","page":"Home","title":"主な機能","text":"","category":"section"},{"location":"","page":"Home","title":"Home","text":"ドキュメント文字列の自動翻訳\n翻訳結果のキャッシュ機能\nDocumenter.jl との統合","category":"page"},{"location":"#インストール","page":"Home","title":"インストール","text":"","category":"section"},{"location":"","page":"Home","title":"Home","text":"julia> using Pkg\njulia> Pkg.add(\"DocstringTranslation\")","category":"page"},{"location":"","page":"Home","title":"Home","text":"OpenAI API キーの設定が必要です．環境変数 OPENAI_API_KEY を設定してください．必要に応じて OpenAI.jl の README も参考になるでしょう.","category":"page"},{"location":"","page":"Home","title":"Home","text":"DotEnv.jl パッケージを使用することで OPENAI_API_KEY を陽に設定することを避けることができます． 作業ディレクトリに .env ファイルを配置し，そのファイルに OpenAI API キーを設定します．","category":"page"},{"location":"","page":"Home","title":"Home","text":"# .env\nOPENAI_API_KEY=sk-<ほにゃらら>","category":"page"},{"location":"","page":"Home","title":"Home","text":"REPL を開いて下記を実行することで自動的に ENV[\"OPENAI_API_KEY\"] を設定することができます：","category":"page"},{"location":"","page":"Home","title":"Home","text":"julia> using DotEnv; DotEnv.load!()","category":"page"},{"location":"","page":"Home","title":"Home","text":"実際に ENV[\"OPENAI_API_KEY\"] が設定されていることを間接的に確認しましょう：","category":"page"},{"location":"","page":"Home","title":"Home","text":"julia> @assert haskey(ENV, \"OPENAI_API_KEY\")","category":"page"},{"location":"","page":"Home","title":"Home","text":"以上で準備は完了です．","category":"page"},{"location":"#基本的な使い方","page":"Home","title":"基本的な使い方","text":"","category":"section"},{"location":"","page":"Home","title":"Home","text":"指数関数 e^x を計算する関数 exp に対応する docstring を日本語で表示してみましょう．ワンライナーで実行できます．","category":"page"},{"location":"","page":"Home","title":"Home","text":"julia> using DotEnv; DotEnv.load!(); using DocstringTranslation; @switchlang! \"ja\"; @doc exp\n  exp(x)\n\n  xの自然基底指数を計算します。言い換えれば、ℯ^xです。\n\n  他にexp2、exp10、およびcisも参照してください。\n\n  例\n  ≡≡\n\n  julia> exp(1.0)\n  2.718281828459045\n\n  julia> exp(im * pi) ≈ cis(pi)\n  true\n\n  exp(A::AbstractMatrix)\n\n  行列 A の行列指数関数を計算します。これは次のように定義されます。\n\n  e^A = \\sum_{n=0}^{\\infty} \\frac{A^n}{n!}.\n\n  対称行列またはエルミート行列 A\n  の場合は、固有分解（eigen）が使用され、それ以外の場合はスケーリングと平方化アルゴリズムが選択されます（詳細は\n  [^H05] を参照）。\n\n  │ [^H05]\n  │\n  │  Nicholas J. Higham, \"The squaring and scaling method for the matrix exponential\n  │  revisited\", SIAM Journal on Matrix Analysis and Applications, 26(4), 2005, 1179-1193.\n  │  doi:10.1137/090768539 (https://doi.org/10.1137/090768539)\n\n  例\n  ≡≡\n\n  julia> A = Matrix(1.0I, 2, 2)\n  2×2 Matrix{Float64}:\n   1.0  0.0\n   0.0  1.0\n\n  julia> exp(A)\n  2×2 Matrix{Float64}:\n   2.71828  0.0\n   0.0      2.71828","category":"page"},{"location":"","page":"Home","title":"Home","text":"@doc exp の代わりにヘルプモードに移行し help?> exp を実行しても構いません．","category":"page"},{"location":"#設定","page":"Home","title":"設定","text":"","category":"section"},{"location":"#翻訳先の言語設定","page":"Home","title":"翻訳先の言語設定","text":"","category":"section"},{"location":"","page":"Home","title":"Home","text":"@switchlang! lang のようにマクロを使用して翻訳先の言語を設定します：","category":"page"},{"location":"","page":"Home","title":"Home","text":"julia> @switchlang! \"ja\"  # 日本語に翻訳\njulia> @switchlang! \"de\"  # ドイツ語に翻訳","category":"page"},{"location":"","page":"Home","title":"Home","text":"ここで， \"ja\" は ISO 639-1 に登録されている日本語に対応する言語コードです．値 lang は OpenAI API が提供するシステムプロンプトに渡されます． したがって，ChatGPT が lang の意味を適切に解釈できる限り，ユーザはこの値を自由に選択することができます．","category":"page"},{"location":"#キャッシュディレクトリの設定","page":"Home","title":"キャッシュディレクトリの設定","text":"","category":"section"},{"location":"","page":"Home","title":"Home","text":"REPL のセッションを起動する度に OpenAI API 毎回呼び出すことを避けるために，DocstringTranslation パッケージは 翻訳結果をキャッシュする機能を実装しています．この機能は Scratch.jl パッケージ によって実現されています．デフォルトでは joinpath(DEPOT_PATH[1], \"scratchspaces\", \"d404e13b-1f8e-41a5-a26a-0b758a0c6c97\", \"translation\") 以下に格納されます． 要するに ~/.julia/scratchspaces/d404e13b-1f8e-41a5-a26a-0b758a0c6c97/translation のことです．d404e13b-1f8e-41a5-a26a-0b758a0c6c97 は我々のパッケージ DocstringTranslation の UUID を指しています． tree コマンドでディレクトリの構造を調べてみましょう：","category":"page"},{"location":"","page":"Home","title":"Home","text":"$ tree ~/.julia/scratchspaces/d404e13b-1f8e-41a5-a26a-0b758a0c6c97/translation\n├── Base\n│   └── 1.11\n│       └── Math\n│           └── 77be4ada26c623c913ebbdae5d8450a4dfe8f3cbf67837faac9d7193342d2bfe\n│               ├── ja.md\n│               └── original.md\n└── LinearAlgebra\n    └── 1.11\n        └── 46c0494a8a2adffc6f71752b60448da1743997b5b1791b71e3830113e9b9cc46\n            ├── ja.md\n            └── original.md\n\n8 directories, 4 files","category":"page"},{"location":"","page":"Home","title":"Home","text":"@doc exp を実行することで Julia は exp に関する docstring を収集します．先ほどのデモンストレーションでは exp(x) と exp(A::AbstractMatrix) に対する２種類の docstring を収集していました．各は Math v1.11, LinearAlgebra v1.11 モジュール内で定義されているのでこのようなディレクトリ構造が生まれます． 77be4ada26c623c913ebbdae5d8450a4dfe8f3cbf67837faac9d7193342d2bfe や 46c0494a8a2adffc6f71752b60448da1743997b5b1791b71e3830113e9b9cc46 などは原文 (original.md に格納されている格納する) のハッシュ値です．original.md は手動で変更しないでください．翻訳結果に不満があれば ja.md を編集することで所望の翻訳結果を得ることができます．","category":"page"},{"location":"","page":"Home","title":"Home","text":"翻訳結果のキャッシュディレクトリを変更する場合は、以下の関数を使用します：","category":"page"},{"location":"","page":"Home","title":"Home","text":"switchtranslationcachedir!(\"path/to/cache/directory\")","category":"page"},{"location":"#注意事項","page":"Home","title":"注意事項","text":"","category":"section"},{"location":"","page":"Home","title":"Home","text":"翻訳の品質は OpenAI API の性能に依存します","category":"page"},{"location":"","page":"Home","title":"Home","text":"","category":"page"},{"location":"#DocstringTranslation.jl-2","page":"Home","title":"DocstringTranslation.jl","text":"","category":"section"},{"location":"","page":"Home","title":"Home","text":"DocstringTranslation.jl is a package for automatically translating Julia documentation (docstrings). It uses the OpenAI API to support multilingual documentation. The translation quality depends on the performance of the OpenAI API.","category":"page"},{"location":"#Main-Features","page":"Home","title":"Main Features","text":"","category":"section"},{"location":"","page":"Home","title":"Home","text":"Automatic translation of documentation strings\nTranslation result caching\nIntegration with Documenter.jl","category":"page"},{"location":"#Installation","page":"Home","title":"Installation","text":"","category":"section"},{"location":"","page":"Home","title":"Home","text":"julia> using Pkg\njulia> Pkg.add(\"DocstringTranslation\")","category":"page"},{"location":"","page":"Home","title":"Home","text":"You need to set up your OpenAI API key. Set the environment variable OPENAI_API_KEY. You may also find the OpenAI.jl README helpful.","category":"page"},{"location":"","page":"Home","title":"Home","text":"You can avoid explicitly setting OPENAI_API_KEY by using the DotEnv.jl package. Place a .env file in your working directory and set your OpenAI API key in that file:","category":"page"},{"location":"","page":"Home","title":"Home","text":"# .env\nOPENAI_API_KEY=sk-<your-key-here>","category":"page"},{"location":"","page":"Home","title":"Home","text":"You can automatically set ENV[\"OPENAI_API_KEY\"] by opening the REPL and running:","category":"page"},{"location":"","page":"Home","title":"Home","text":"julia> using DotEnv; DotEnv.load!()","category":"page"},{"location":"","page":"Home","title":"Home","text":"Let's indirectly verify that ENV[\"OPENAI_API_KEY\"] is set:","category":"page"},{"location":"","page":"Home","title":"Home","text":"julia> @assert haskey(ENV, \"OPENAI_API_KEY\")","category":"page"},{"location":"","page":"Home","title":"Home","text":"That completes the setup.","category":"page"},{"location":"#Basic-Usage","page":"Home","title":"Basic Usage","text":"","category":"section"},{"location":"","page":"Home","title":"Home","text":"Let's display the docstring for the exp function, which calculates the exponential function e^x, in Japanese. You can do this in one line:","category":"page"},{"location":"","page":"Home","title":"Home","text":"julia> using DotEnv; DotEnv.load!(); using DocstringTranslation; @switchlang! \"ja\"; @doc exp\n  exp(x)\n\n  xの自然基底指数を計算します。言い換えれば、ℯ^xです。\n\n  他にexp2、exp10、およびcisも参照してください。\n\n  例\n  ≡≡\n\n  julia> exp(1.0)\n  2.718281828459045\n\n  julia> exp(im * pi) ≈ cis(pi)\n  true\n\n  exp(A::AbstractMatrix)\n\n  行列 A の行列指数関数を計算します。これは次のように定義されます。\n\n  e^A = \\sum_{n=0}^{\\infty} \\frac{A^n}{n!}.\n\n  対称行列またはエルミート行列 A\n  の場合は、固有分解（eigen）が使用され、それ以外の場合はスケーリングと平方化アルゴリズムが選択されます（詳細は\n  [^H05] を参照）。\n\n  │ [^H05]\n  │\n  │  Nicholas J. Higham, \"The squaring and scaling method for the matrix exponential\n  │  revisited\", SIAM Journal on Matrix Analysis and Applications, 26(4), 2005, 1179-1193.\n  │  doi:10.1137/090768539 (https://doi.org/10.1137/090768539)\n\n  例\n  ≡≡\n\n  julia> A = Matrix(1.0I, 2, 2)\n  2×2 Matrix{Float64}:\n   1.0  0.0\n   0.0  1.0\n\n  julia> exp(A)\n  2×2 Matrix{Float64}:\n   2.71828  0.0\n   0.0      2.71828","category":"page"},{"location":"","page":"Home","title":"Home","text":"Instead of @doc exp, you can also enter help mode and run help?> exp.","category":"page"},{"location":"#Notes","page":"Home","title":"Notes","text":"","category":"section"},{"location":"","page":"Home","title":"Home","text":"Translation quality depends on the performance of the OpenAI API","category":"page"},{"location":"how_it_works/#How-it-works","page":"How it works","title":"How it works","text":"","category":"section"},{"location":"how_it_works/","page":"How it works","title":"How it works","text":"English follows Japanese","category":"page"},{"location":"how_it_works/#動作の仕組み","page":"How it works","title":"動作の仕組み","text":"","category":"section"},{"location":"how_it_works/","page":"How it works","title":"How it works","text":"ソースコードレベルで知りたい場合は DocstringTranslation.jl/src/switchlang.jl ファイルを参照してください．","category":"page"},{"location":"how_it_works/","page":"How it works","title":"How it works","text":"@switchlang! マクロが実行されると、以下の処理が行われます：\n翻訳先の言語が設定される\nDocs.parsedoc(d::DocStr) がオーバーライドされ、翻訳エンジンが挿入される\nDocumenter.Page(source::AbstractString, build::AbstractString,workdir::AbstractString,) がオーバーライドされ、ドキュメントページ全体の翻訳が可能になる\nドキュメント生成時に：\n各ドキュメント文字列が翻訳される\n翻訳結果はキャッシュされ、次回以降の生成時に再利用される","category":"page"},{"location":"how_it_works/","page":"How it works","title":"How it works","text":"","category":"page"},{"location":"how_it_works/#How-It-Works","page":"How it works","title":"How It Works","text":"","category":"section"},{"location":"how_it_works/","page":"How it works","title":"How it works","text":"Please refer to the DocstringTranslation.jl/src/switchlang.jl file if you want to understand at the source code level.","category":"page"},{"location":"how_it_works/","page":"How it works","title":"How it works","text":"When the @switchlang! macro is executed, the following processes occur:\nThe target language is set\nDocs.parsedoc(d::DocStr) is overridden to insert the translation engine\nThe Documenter.Page(source::AbstractString, build::AbstractString,workdir::AbstractString,) is overridden to enable translation of entire documentation pages\nDuring documentation generation:\nEach documentation string is translated\nTranslation results are cached and reused in subsequent generations","category":"page"},{"location":"translation_of_example/#How-to-translate-documentation-of-Example.jl","page":"Translation of Example.jl","title":"How to translate documentation of Example.jl","text":"","category":"section"},{"location":"translation_of_example/","page":"Translation of Example.jl","title":"Translation of Example.jl","text":"Apply the following patch to docs/make.jl in Example.jl","category":"page"},{"location":"translation_of_example/","page":"Translation of Example.jl","title":"Translation of Example.jl","text":"diff --git a/docs/make.jl b/docs/make.jl\nindex 450ae47..9feba34 100644\n--- a/docs/make.jl\n+++ b/docs/make.jl\n@@ -1,5 +1,9 @@\n using Documenter, Example\n\n+using DocstringTranslation\n+@switchlang! :ja\n+DocstringTranslation.switchtargetpackage!(Example)\n+\n makedocs(modules = [Example],\n          sitename = \"Example.jl\",\n          format = Documenter.HTML()","category":"page"}]
}
